---
import UserRepository from "@/repository/user";
import type { User } from "lucia";

interface Props {
  user: User;
}

const userRepository = new UserRepository();
const user = await userRepository.getUser(Astro.props.user.id);
---

<section class="flex items-center gap-2">
  {
    user?.avatar ? (
      <img class="size-10 rounded-full" src={user.avatar} alt={user.username} />
    ) : (
      <figure class="size-10 rounded-full bg-neutral-600" />
    )
  }
  <div class="grid items-center">
    <form action="/api/signout" method="post">
      <button class="font-medium">Sign Out</button>
    </form>
  </div>
</section>
